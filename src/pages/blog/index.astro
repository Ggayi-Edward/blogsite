---
import Layout from '../../layouts/Layout.astro';
import FeaturedPostCard from '../../components/FeaturedPostCard.astro';

// Sample blog posts data
const allPosts = [
  {
    slug: 'creative-process',
    title: 'Exploring the Creative Process Behind My Latest Work',
    description: 'Dive into the mindset, tools, and techniques that went into creating my most recent project and discover practical tips you can apply to your own creative endeavors.',
    image: 'https://images.pexels.com/photos/1181673/pexels-photo-1181673.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',
    date: '2025-04-15',
    category: 'Creativity'
  },
  {
    slug: 'design-inspiration',
    title: 'Design Inspiration: Finding Beauty in Everyday Objects',
    description: 'How the shapes, colors, and textures of everyday life can inspire breathtaking design concepts if you know how to look for them.',
    image: 'https://images.pexels.com/photos/196644/pexels-photo-196644.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',
    date: '2025-04-10',
    category: 'Design'
  },
  {
    slug: 'digital-art-techniques',
    title: '5 Digital Art Techniques That Transformed My Work',
    description: 'Specific digital art methods that elevated my artwork and how you can implement them regardless of your current skill level.',
    image: 'https://images.pexels.com/photos/3861969/pexels-photo-3861969.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',
    date: '2025-04-05',
    category: 'Art'
  },
  {
    slug: 'visual-storytelling',
    title: 'The Power of Visual Storytelling in Modern Media',
    description: 'How visual narratives can communicate complex ideas more effectively than words alone in our increasingly visual digital environment.',
    image: 'https://images.pexels.com/photos/3178744/pexels-photo-3178744.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',
    date: '2025-03-30',
    category: 'Visual Storytelling'
  },
  {
    slug: 'minimalist-approach',
    title: 'Why Minimalism is More Than a Design Trend',
    description: 'Exploring how minimalist principles can influence not just your design work but your creative process and even lifestyle.',
    image: 'https://images.pexels.com/photos/2693212/pexels-photo-2693212.png?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',
    date: '2025-03-25',
    category: 'Design'
  },
  {
    slug: 'typography-basics',
    title: 'Typography Fundamentals Every Designer Should Know',
    description: 'Essential typography principles that form the foundation of effective design communication.',
    image: 'https://images.pexels.com/photos/943096/pexels-photo-943096.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',
    date: '2025-03-20',
    category: 'Typography'
  },
  {
    slug: 'color-theory',
    title: 'Practical Color Theory for Digital Artists',
    description: 'How understanding color relationships can dramatically improve your digital artwork and design projects.',
    image: 'https://images.pexels.com/photos/1191710/pexels-photo-1191710.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',
    date: '2025-03-15',
    category: 'Color Theory'
  },
  {
    slug: 'creative-blocks',
    title: 'Overcoming Creative Blocks: Strategies That Actually Work',
    description: 'Practical approaches to breaking through creative stagnation and finding inspiration when it seems impossible.',
    image: 'https://images.pexels.com/photos/3760529/pexels-photo-3760529.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',
    date: '2025-03-10',
    category: 'Creativity'
  }
];

// Get unique categories for the filter
const categories = [...new Set(allPosts.map(post => post.category))];
---

<Layout title="Blog - Modern Blog" description="Explore the latest posts on design, creativity, art and more.">
  <!-- Header -->
  <section class="bg-gradient-to-r from-primary-50 to-primary-100 dark:from-primary-950/50 dark:to-primary-900/30 py-12 md:py-20">
    <div class="container">
      <div class="max-w-2xl">
        <h1 class="text-4xl md:text-5xl font-bold">Blog</h1>
        <p class="mt-4 text-xl text-gray-700 dark:text-gray-300">
          Thoughts, ideas, and insights on creativity, design, and art
        </p>
      </div>
    </div>
  </section>
  
  <!-- Blog Posts -->
  <section class="py-12 md:py-16">
    <div class="container">
      <!-- Filters -->
      <div class="mb-10 flex flex-wrap gap-2">
        <button 
          id="all-categories" 
          class="px-4 py-2 rounded-full bg-primary-600 text-white hover:bg-primary-700 transition-colors"
        >
          All
        </button>
        {categories.map(category => (
          <button 
            class="px-4 py-2 rounded-full bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors category-filter"
            data-category={category}
          >
            {category}
          </button>
        ))}
      </div>
      
      <!-- Posts Grid -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        {allPosts.map(post => (
          <div class="post-card" data-category={post.category}>
            <FeaturedPostCard post={post} />
          </div>
        ))}
      </div>
      
      <!-- Pagination -->
      <div class="mt-12 flex justify-center">
        <div class="inline-flex items-center justify-center gap-2">
          <a href="#" class="p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-800">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" />
            </svg>
          </a>
          <a href="#" class="px-4 py-2 rounded bg-primary-600 text-white">1</a>
          <a href="#" class="px-4 py-2 rounded hover:bg-gray-100 dark:hover:bg-gray-800">2</a>
          <a href="#" class="px-4 py-2 rounded hover:bg-gray-100 dark:hover:bg-gray-800">3</a>
          <span class="px-2">...</span>
          <a href="#" class="p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-800">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
              <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" />
            </svg>
          </a>
        </div>
      </div>
    </div>
  </section>
</Layout>

<script>
  document.addEventListener('astro:page-load', () => {
    // Get all the elements
    const allCategoriesBtn = document.getElementById('all-categories');
    const categoryButtons = document.querySelectorAll('.category-filter');
    const postCards = document.querySelectorAll('.post-card');
    
    // Function to filter posts
    function filterPosts(category) {
      // Reset all buttons styling
      allCategoriesBtn.classList.remove('bg-primary-600', 'text-white');
      allCategoriesBtn.classList.add('bg-gray-100', 'dark:bg-gray-800', 'text-gray-800', 'dark:text-gray-200');
      
      categoryButtons.forEach(btn => {
        btn.classList.remove('bg-primary-600', 'text-white');
        btn.classList.add('bg-gray-100', 'dark:bg-gray-800', 'text-gray-800', 'dark:text-gray-200');
      });
      
      // If category is 'all', show all posts
      if (category === 'all') {
        postCards.forEach(card => {
          card.style.display = 'block';
        });
        
        allCategoriesBtn.classList.remove('bg-gray-100', 'dark:bg-gray-800', 'text-gray-800', 'dark:text-gray-200');
        allCategoriesBtn.classList.add('bg-primary-600', 'text-white');
      } else {
        // Otherwise, filter posts by category
        postCards.forEach(card => {
          if (card.getAttribute('data-category') === category) {
            card.style.display = 'block';
          } else {
            card.style.display = 'none';
          }
        });
        
        // Update selected button style
        const selectedButton = document.querySelector(`[data-category="${category}"]`);
        selectedButton.classList.remove('bg-gray-100', 'dark:bg-gray-800', 'text-gray-800', 'dark:text-gray-200');
        selectedButton.classList.add('bg-primary-600', 'text-white');
      }
    }
    
    // Add event listeners
    allCategoriesBtn.addEventListener('click', () => filterPosts('all'));
    
    categoryButtons.forEach(button => {
      button.addEventListener('click', () => {
        const category = button.getAttribute('data-category');
        filterPosts(category);
      });
    });
  });
</script>